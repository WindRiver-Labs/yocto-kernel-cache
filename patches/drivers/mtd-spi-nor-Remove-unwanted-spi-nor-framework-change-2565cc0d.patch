From a4873280d3a80b8f0864c9977ad8b41035a34f9e Mon Sep 17 00:00:00 2001
From: Amit Kumar Mahapatra <amit.kumar-mahapatra@xilinx.com>
Date: Thu, 13 Feb 2020 08:31:15 -0700
Subject: [PATCH 1199/1851] mtd: spi-nor: Remove unwanted spi-nor framework
 changes

commit 44ec77447dd7ca4f0b848b6256590c2bfb84e8ed from
https://github.com/Xilinx/linux-xlnx.git

Remove unwanted spi-nor framework changes.

Signed-off-by: Amit Kumar Mahapatra <amit.kumar-mahapatra@xilinx.com>
State: pending
Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 drivers/mtd/spi-nor/spi-nor.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/drivers/mtd/spi-nor/spi-nor.c b/drivers/mtd/spi-nor/spi-nor.c
index 7bce6731bdd1..5e85179278ca 100644
--- a/drivers/mtd/spi-nor/spi-nor.c
+++ b/drivers/mtd/spi-nor/spi-nor.c
@@ -693,9 +693,6 @@ static int spi_nor_write_ear(struct spi_nor *nor, u8 ear)
 	int ret;
 	struct mtd_info *mtd = &nor->mtd;
 
-	/* Wait until finished previous write command. */
-	if (spi_nor_wait_till_ready(nor))
-		return 1;
 
 	if (mtd->size <= (0x1000000) << nor->shift)
 		return 0;
-- 
2.31.1

