From 937370cfaf9244d5b7401a59fd2ce4d687b247f8 Mon Sep 17 00:00:00 2001
From: Yaliang Wang <Yaliang.Wang@windriver.com>
Date: Mon, 30 Aug 2021 00:07:33 +0800
Subject: [PATCH 1850/1851] arm64: versal AI: upgrade device tree to v2021.1

Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 arch/arm64/boot/dts/xilinx/versal/pcw.dtsi    |   8 +-
 arch/arm64/boot/dts/xilinx/versal/pl.dtsi     | 728 ++++--------------
 .../boot/dts/xilinx/versal/system-conf.dtsi   |  31 +-
 .../boot/dts/xilinx/versal/system-top.dts     |  13 +-
 .../boot/dts/xilinx/versal/versal-clk.dtsi    |   3 +-
 .../versal-vck190-reva-x-ebm-01-reva.dtsi     |   2 +-
 arch/arm64/boot/dts/xilinx/versal/versal.dtsi |  21 +-
 7 files changed, 182 insertions(+), 624 deletions(-)

diff --git a/arch/arm64/boot/dts/xilinx/versal/pcw.dtsi b/arch/arm64/boot/dts/xilinx/versal/pcw.dtsi
index ea75b348f1ac..907ae66041f8 100644
--- a/arch/arm64/boot/dts/xilinx/versal/pcw.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/pcw.dtsi
@@ -1,7 +1,7 @@
 /*
  * CAUTION: This file is automatically generated by Xilinx.
  * Version:  
- * Today is: Thu Nov 19 09:57:51 2020
+ * Today is: Fri Jun 11 15:16:47 2021
  */
 
 
@@ -50,10 +50,6 @@
 &smmu {
 	status = "okay";
 };
-&i2c0 {
-	clock-frequency = <400000>;
-	status = "okay";
-};
 &i2c1 {
 	clock-frequency = <400000>;
 	status = "okay";
@@ -72,7 +68,7 @@
 	status = "okay";
 };
 &sdhci1 {
-	clock-frequency = <199998001>;
+	clock-frequency = <199999985>;
 	status = "okay";
 	xlnx,mio-bank = <0x1>;
 };
diff --git a/arch/arm64/boot/dts/xilinx/versal/pl.dtsi b/arch/arm64/boot/dts/xilinx/versal/pl.dtsi
index 9abc3e42b02b..9866137d7b31 100644
--- a/arch/arm64/boot/dts/xilinx/versal/pl.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/pl.dtsi
@@ -1,7 +1,7 @@
 /*
  * CAUTION: This file is automatically generated by Xilinx.
  * Version:  
- * Today is: Thu Nov 19 09:57:51 2020
+ * Today is: Fri Jun 11 15:16:47 2021
  */
 
 
@@ -29,613 +29,155 @@
 		};
 		misc_clk_0: misc_clk_0 {
 			#clock-cells = <0>;
-			clock-frequency = <99999000>;
+			clock-frequency = <150000000>;
 			compatible = "fixed-clock";
 		};
-		axi_bram_ctrl_0: axi_bram_ctrl@2c140000000 {
+		axi_intc_cascaded_1: interrupt-controller@a4000000 {
+			#interrupt-cells = <2>;
 			clock-names = "s_axi_aclk";
-			clocks = <&misc_clk_0>;
-			compatible = "xlnx,axi-bram-ctrl-4.1";
-			reg = <0x000002c1 0x40000000 0x0 0x4000>;
-			xlnx,bram-addr-width = <0xa>;
-			xlnx,bram-inst-mode = "EXTERNAL";
-			xlnx,ecc = <0x0>;
-			xlnx,ecc-onoff-reset-value = <0x0>;
-			xlnx,ecc-type = <0x0>;
-			xlnx,fault-inject = <0x0>;
-			xlnx,memory-depth = <0x400>;
-			xlnx,rd-cmd-optimization = <0x0>;
-			xlnx,read-latency = <0x1>;
-			xlnx,s-axi-ctrl-addr-width = <0x20>;
-			xlnx,s-axi-ctrl-data-width = <0x20>;
-			xlnx,s-axi-id-width = <0x2>;
-			xlnx,s-axi-supports-narrow-burst = <0x1>;
-			xlnx,single-port-bram = <0x0>;
-		};
-		axi_dma_0: dma@a6800000 {
-			#dma-cells = <1>;
-			clock-names = "s_axi_lite_aclk", "m_axi_sg_aclk", "m_axi_mm2s_aclk", "m_axi_s2mm_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>, <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-dma-7.1", "xlnx,axi-dma-1.00.a";
-			reg = <0x0 0xa6800000 0x0 0x10000>;
-			xlnx,addrwidth = <0x40>;
-			xlnx,include-sg ;
-			xlnx,sg-length-width = <0xe>;
-			dma-channel@a6800000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x1>;
-				xlnx,datawidth = <0x200>;
-				xlnx,device-id = <0x0>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a6800030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x1>;
-				xlnx,datawidth = <0x200>;
-				xlnx,device-id = <0x0>;
-				xlnx,include-dre ;
-			};
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-intc-4.1", "xlnx,xps-intc-1.00.a";
+			interrupt-controller ;
+			interrupt-names = "irq";
+			interrupt-parent = <&axi_intc_parent>;
+			interrupts = <31 2>;
+			reg = <0x0 0xa4000000 0x0 0x10000>;
+			xlnx,kind-of-intr = <0xffffffff>;
+			xlnx,num-intr-inputs = <0x20>;
 		};
-		axi_dma_1: dma@a6840000 {
-			#dma-cells = <1>;
-			clock-names = "s_axi_lite_aclk", "m_axi_sg_aclk", "m_axi_mm2s_aclk", "m_axi_s2mm_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>, <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-dma-7.1", "xlnx,axi-dma-1.00.a";
-			reg = <0x0 0xa6840000 0x0 0x10000>;
-			xlnx,addrwidth = <0x40>;
-			xlnx,include-sg ;
-			xlnx,sg-length-width = <0xe>;
-			dma-channel@a6840000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x1>;
-				xlnx,datawidth = <0x200>;
-				xlnx,device-id = <0x1>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a6840030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x1>;
-				xlnx,datawidth = <0x200>;
-				xlnx,device-id = <0x1>;
-				xlnx,include-dre ;
-			};
+		misc_clk_1: misc_clk_1 {
+			#clock-cells = <0>;
+			clock-frequency = <100000000>;
+			compatible = "fixed-clock";
 		};
-		mcdma_0_axi_mcdma_0: axi_mcdma@a4000000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
+		axi_intc_parent: interrupt-controller@a5000000 {
+			#interrupt-cells = <2>;
+			clock-names = "s_axi_aclk";
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-intc-4.1", "xlnx,xps-intc-1.00.a";
+			interrupt-controller ;
+			interrupt-names = "irq";
 			interrupt-parent = <&gic>;
-			interrupts = <0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4>;
-			reg = <0x0 0xa4000000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4000000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x2>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4000030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 84 4 0 84 4 0 84 4 0 84 4 0 84 4 0 84 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x2>;
-				xlnx,include-dre ;
-			};
+			interrupts = <0 84 4>;
+			reg = <0x0 0xa5000000 0x0 0x10000>;
+			xlnx,kind-of-intr = <0x7fffffff>;
+			xlnx,num-intr-inputs = <0x20>;
 		};
-		mcdma_1_axi_dbg_hub_0: axi_dbg_hub@80000000 {
+		to_delete_kernel_ctrl_0: axi_vip@a4010000 {
 			clock-names = "aclk";
-			clocks = <&misc_clk_0>;
-			compatible = "xlnx,axi-dbg-hub-2.0";
-			reg = <0x0 0x80000000 0x0 0x200000>;
-			xlnx,addr-offset = <0x00000000 0x80000000>;
-			xlnx,addr-range = <0x00200000>;
-			xlnx,axi-addr-width = <0x2c>;
-			xlnx,axi-data-width = <0x80>;
-			xlnx,axi-id-width = <0x10>;
-			xlnx,axis-tdata-width = <0x20>;
-			xlnx,num-debug-cores = <0x3>;
-			xlnx,num-rd-outstanding-txn = <0x1>;
-			xlnx,num-wr-outstanding-txn = <0x1>;
-		};
-		mcdma_1_axi_mcdma_0: axi_mcdma@a4010000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4>;
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-vip-1.1";
 			reg = <0x0 0xa4010000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4010000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x3>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4010030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 85 4 0 85 4 0 85 4 0 85 4 0 85 4 0 85 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x3>;
-				xlnx,include-dre ;
-			};
+			xlnx,axi-addr-width = <0x20>;
+			xlnx,axi-aruser-width = <0x10>;
+			xlnx,axi-awuser-width = <0x10>;
+			xlnx,axi-buser-width = <0x0>;
+			xlnx,axi-has-aresetn = <0x1>;
+			xlnx,axi-has-bresp = <0x1>;
+			xlnx,axi-has-burst = <0x1>;
+			xlnx,axi-has-cache = <0x1>;
+			xlnx,axi-has-lock = <0x1>;
+			xlnx,axi-has-prot = <0x1>;
+			xlnx,axi-has-qos = <0x1>;
+			xlnx,axi-has-region = <0x0>;
+			xlnx,axi-has-rresp = <0x1>;
+			xlnx,axi-has-wstrb = <0x1>;
+			xlnx,axi-interface-mode = <0x2>;
+			xlnx,axi-protocol = <0x0>;
+			xlnx,axi-rdata-width = <0x20>;
+			xlnx,axi-rid-width = <0x0>;
+			xlnx,axi-ruser-width = <0x0>;
+			xlnx,axi-supports-narrow = <0x0>;
+			xlnx,axi-wdata-width = <0x20>;
+			xlnx,axi-wid-width = <0x0>;
+			xlnx,axi-wuser-width = <0x0>;
 		};
-		mcdma_2_axi_mcdma_0: axi_mcdma@a4020000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4>;
+		to_delete_kernel_ctrl_1: axi_vip@a4020000 {
+			clock-names = "aclk";
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-vip-1.1";
 			reg = <0x0 0xa4020000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4020000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x4>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4020030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 86 4 0 86 4 0 86 4 0 86 4 0 86 4 0 86 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x4>;
-				xlnx,include-dre ;
-			};
+			xlnx,axi-addr-width = <0x20>;
+			xlnx,axi-aruser-width = <0x10>;
+			xlnx,axi-awuser-width = <0x10>;
+			xlnx,axi-buser-width = <0x0>;
+			xlnx,axi-has-aresetn = <0x1>;
+			xlnx,axi-has-bresp = <0x1>;
+			xlnx,axi-has-burst = <0x1>;
+			xlnx,axi-has-cache = <0x1>;
+			xlnx,axi-has-lock = <0x1>;
+			xlnx,axi-has-prot = <0x1>;
+			xlnx,axi-has-qos = <0x1>;
+			xlnx,axi-has-region = <0x0>;
+			xlnx,axi-has-rresp = <0x1>;
+			xlnx,axi-has-wstrb = <0x1>;
+			xlnx,axi-interface-mode = <0x2>;
+			xlnx,axi-protocol = <0x0>;
+			xlnx,axi-rdata-width = <0x20>;
+			xlnx,axi-rid-width = <0x0>;
+			xlnx,axi-ruser-width = <0x0>;
+			xlnx,axi-supports-narrow = <0x0>;
+			xlnx,axi-wdata-width = <0x20>;
+			xlnx,axi-wid-width = <0x0>;
+			xlnx,axi-wuser-width = <0x0>;
 		};
-		mcdma_3_axi_mcdma_0: axi_mcdma@a4030000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4>;
+		to_delete_kernel_ctrl_2: axi_vip@a4030000 {
+			clock-names = "aclk";
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-vip-1.1";
 			reg = <0x0 0xa4030000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4030000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x5>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4030030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 87 4 0 87 4 0 87 4 0 87 4 0 87 4 0 87 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x5>;
-				xlnx,include-dre ;
-			};
+			xlnx,axi-addr-width = <0x20>;
+			xlnx,axi-aruser-width = <0x10>;
+			xlnx,axi-awuser-width = <0x10>;
+			xlnx,axi-buser-width = <0x0>;
+			xlnx,axi-has-aresetn = <0x1>;
+			xlnx,axi-has-bresp = <0x1>;
+			xlnx,axi-has-burst = <0x1>;
+			xlnx,axi-has-cache = <0x1>;
+			xlnx,axi-has-lock = <0x1>;
+			xlnx,axi-has-prot = <0x1>;
+			xlnx,axi-has-qos = <0x1>;
+			xlnx,axi-has-region = <0x0>;
+			xlnx,axi-has-rresp = <0x1>;
+			xlnx,axi-has-wstrb = <0x1>;
+			xlnx,axi-interface-mode = <0x2>;
+			xlnx,axi-protocol = <0x0>;
+			xlnx,axi-rdata-width = <0x20>;
+			xlnx,axi-rid-width = <0x0>;
+			xlnx,axi-ruser-width = <0x0>;
+			xlnx,axi-supports-narrow = <0x0>;
+			xlnx,axi-wdata-width = <0x20>;
+			xlnx,axi-wid-width = <0x0>;
+			xlnx,axi-wuser-width = <0x0>;
 		};
-		mcdma_4_axi_mcdma_0: axi_mcdma@a4040000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4>;
+		to_delete_kernel_ctrl_3: axi_vip@a4040000 {
+			clock-names = "aclk";
+			clocks = <&misc_clk_1>;
+			compatible = "xlnx,axi-vip-1.1";
 			reg = <0x0 0xa4040000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4040000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x6>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4040030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 88 4 0 88 4 0 88 4 0 88 4 0 88 4 0 88 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x6>;
-				xlnx,include-dre ;
-			};
-		};
-		mcdma_5_axi_mcdma_0: axi_mcdma@a4050000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4>;
-			reg = <0x0 0xa4050000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4050000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x7>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4050030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 89 4 0 89 4 0 89 4 0 89 4 0 89 4 0 89 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x7>;
-				xlnx,include-dre ;
-			};
-		};
-		mcdma_6_axi_mcdma_0: axi_mcdma@a4060000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4>;
-			reg = <0x0 0xa4060000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4060000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x8>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4060030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 90 4 0 90 4 0 90 4 0 90 4 0 90 4 0 90 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x8>;
-				xlnx,include-dre ;
-			};
-		};
-		mcdma_7_axi_mcdma_0: axi_mcdma@a4070000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4>;
-			reg = <0x0 0xa4070000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4070000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x9>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4070030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 91 4 0 91 4 0 91 4 0 91 4 0 91 4 0 91 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0x9>;
-				xlnx,include-dre ;
-			};
-		};
-		mcdma_8_axi_mcdma_0: axi_mcdma@a4080000 {
-			clock-names = "s_axi_aclk", "s_axi_lite_aclk";
-			clocks = <&misc_clk_0>, <&misc_clk_0>;
-			compatible = "xlnx,axi-mcdma-1.1", "xlnx,axi-mcdma-1.00.a";
-			interrupt-names = "mm2s_ch1_introut", "mm2s_ch2_introut", "mm2s_ch3_introut", "mm2s_ch4_introut", "mm2s_ch5_introut", "mm2s_ch6_introut", "s2mm_ch1_introut", "s2mm_ch2_introut", "s2mm_ch3_introut", "s2mm_ch4_introut", "s2mm_ch5_introut", "s2mm_ch6_introut";
-			interrupt-parent = <&gic>;
-			interrupts = <0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4>;
-			reg = <0x0 0xa4080000 0x0 0x10000>;
-			xlnx,addrwidth = <0x20>;
-			xlnx,dlytmr-resolution = <0x7d>;
-			xlnx,enable-single-intr = <0x0>;
-			xlnx,group1-mm2s = <0x1b207>;
-			xlnx,group1-s2mm = <0x1b207>;
-			xlnx,group2-mm2s = <0x0>;
-			xlnx,group2-s2mm = <0x0>;
-			xlnx,group3-mm2s = <0x0>;
-			xlnx,group3-s2mm = <0x0>;
-			xlnx,group4-mm2s = <0x0>;
-			xlnx,group4-s2mm = <0x0>;
-			xlnx,group5-mm2s = <0x0>;
-			xlnx,group5-s2mm = <0x0>;
-			xlnx,group6-mm2s = <0x0>;
-			xlnx,group6-s2mm = <0x0>;
-			xlnx,include-mm2s = <0x1>;
-			xlnx,include-mm2s-dre = <0x1>;
-			xlnx,include-mm2s-sf = <0x1>;
-			xlnx,include-s2mm = <0x1>;
-			xlnx,include-s2mm-dre = <0x1>;
-			xlnx,include-s2mm-sf = <0x1>;
-			xlnx,include-sg ;
-			xlnx,mm2s-burst-size = <0x8>;
-			xlnx,mm2s-scheduler = <0x2>;
-			xlnx,num-mm2s-channels = <0x6>;
-			xlnx,num-s2mm-channels = <0x6>;
-			xlnx,prmry-is-aclk-async = <0x0>;
-			xlnx,s2mm-burst-size = <0x10>;
-			xlnx,sg-include-stscntrl-strm = <0x0>;
-			xlnx,sg-length-width = <0xe>;
-			xlnx,sg-use-stsapp-length = <0x0>;
-			dma-channel@a4080000 {
-				compatible = "xlnx,axi-dma-mm2s-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0xa>;
-				xlnx,include-dre ;
-			};
-			dma-channel@a4080030 {
-				compatible = "xlnx,axi-dma-s2mm-channel";
-				dma-channels = <0x6>;
-				interrupt-parent = <&gic>;
-				interrupts = <0 92 4 0 92 4 0 92 4 0 92 4 0 92 4 0 92 4>;
-				xlnx,datawidth = <0x40>;
-				xlnx,device-id = <0xa>;
-				xlnx,include-dre ;
-			};
+			xlnx,axi-addr-width = <0x20>;
+			xlnx,axi-aruser-width = <0x10>;
+			xlnx,axi-awuser-width = <0x10>;
+			xlnx,axi-buser-width = <0x0>;
+			xlnx,axi-has-aresetn = <0x1>;
+			xlnx,axi-has-bresp = <0x1>;
+			xlnx,axi-has-burst = <0x1>;
+			xlnx,axi-has-cache = <0x1>;
+			xlnx,axi-has-lock = <0x1>;
+			xlnx,axi-has-prot = <0x1>;
+			xlnx,axi-has-qos = <0x1>;
+			xlnx,axi-has-region = <0x0>;
+			xlnx,axi-has-rresp = <0x1>;
+			xlnx,axi-has-wstrb = <0x1>;
+			xlnx,axi-interface-mode = <0x2>;
+			xlnx,axi-protocol = <0x0>;
+			xlnx,axi-rdata-width = <0x20>;
+			xlnx,axi-rid-width = <0x0>;
+			xlnx,axi-ruser-width = <0x0>;
+			xlnx,axi-supports-narrow = <0x0>;
+			xlnx,axi-wdata-width = <0x20>;
+			xlnx,axi-wid-width = <0x0>;
+			xlnx,axi-wuser-width = <0x0>;
 		};
 	};
 };
diff --git a/arch/arm64/boot/dts/xilinx/versal/system-conf.dtsi b/arch/arm64/boot/dts/xilinx/versal/system-conf.dtsi
index 5a973c1259b1..a2b77fa83109 100644
--- a/arch/arm64/boot/dts/xilinx/versal/system-conf.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/system-conf.dtsi
@@ -6,8 +6,37 @@
 
 / {
 	chosen {
-		bootargs = "console=ttyAMA0  earlycon=pl011,mmio32,0xFF000000,115200n8 clk_ignore_unused root=/dev/mmcblk0p2 rw rootwait";
+		bootargs = "console=ttyAMA0  earlycon=pl011,mmio32,0xFF000000,115200n8 clk_ignore_unused init_fatal_sh=1";
 		stdout-path = "serial0:115200n8";
 	};
 };
 
+&qspi {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	flash0: flash@0 {
+		spi-tx-bus-width=<1>;
+		spi-rx-bus-width=<4>;
+		/delete-node/ partition@0;
+		/delete-node/ partition@100000;
+		/delete-node/ partition@600000;
+		/delete-node/ partition@620000;
+		partition@0 {
+			label = "boot";
+			reg = <0x00000000 0x00040000>;
+		};
+		partition@1 {
+			label = "bootenv";
+			reg = <0x00040000 0x00020000>;
+		};
+		partition@2 {
+			label = "config";
+			reg = <0x00060000 0x00020000>;
+		};
+		partition@3 {
+			label = "kernel";
+			reg = <0x00080000 0x00c00000>;
+		};
+	};
+};
+
diff --git a/arch/arm64/boot/dts/xilinx/versal/system-top.dts b/arch/arm64/boot/dts/xilinx/versal/system-top.dts
index d7d431b916d4..e5b5a043b86e 100644
--- a/arch/arm64/boot/dts/xilinx/versal/system-top.dts
+++ b/arch/arm64/boot/dts/xilinx/versal/system-top.dts
@@ -1,7 +1,7 @@
 /*
  * CAUTION: This file is automatically generated by Xilinx.
  * Version:  
- * Today is: Thu Nov 19 09:57:51 2020
+ * Today is: Fri Jun 11 15:16:47 2021
  */
 
 
@@ -17,14 +17,17 @@
 	aliases {
 		ethernet0 = &gem0;
 		ethernet1 = &gem1;
-		i2c0 = &i2c0;
-		i2c1 = &i2c1;
+		i2c0 = &i2c1;
 		serial0 = &serial0;
 		spi0 = &qspi;
 	};
-	memoryNOC_0: memory@800000000 {
+	memorynoc_ddr4: memory@800000000 {
 		device_type = "memory";
-		reg = <0x0 0x00000000 0x0 0x80000000>, <0x00000008 0x00000000 0x00000001 0x00000000>;
+		reg = <0x0 0x00000000 0x0 0x80000000>, <0x00000008 0x00000000 0x00000001 0x80000000>;
+	};
+	memorynoc_lpddr4: memory@50000000000 {
+		device_type = "memory";
+		reg = <0x00000500 0x00000000 0x00000002 0x00000000>;
 	};
 };
 /* #include "system-user.dtsi" */
diff --git a/arch/arm64/boot/dts/xilinx/versal/versal-clk.dtsi b/arch/arm64/boot/dts/xilinx/versal/versal-clk.dtsi
index 208ff5c2512a..bf86d21e4a86 100644
--- a/arch/arm64/boot/dts/xilinx/versal/versal-clk.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/versal-clk.dtsi
@@ -2,7 +2,7 @@
 /*
  * dts file for Xilinx Versal with PM
  *
- * (C) Copyright 2017 - 2019, Xilinx, Inc.
+ * (C) Copyright 2017 - 2021, Xilinx, Inc.
  *
  * Michal Simek <michal.simek@xilinx.com>
  */
@@ -42,6 +42,7 @@
 	firmware {
 		versal_firmware: versal-firmware {
 			compatible = "xlnx,versal-firmware";
+			interrupt-parent = <&gic>;
 			u-boot,dm-pre-reloc;
 			method = "smc";
 			#power-domain-cells = <1>;
diff --git a/arch/arm64/boot/dts/xilinx/versal/versal-vck190-reva-x-ebm-01-reva.dtsi b/arch/arm64/boot/dts/xilinx/versal/versal-vck190-reva-x-ebm-01-reva.dtsi
index cb6d03029add..9cde96516c37 100644
--- a/arch/arm64/boot/dts/xilinx/versal/versal-vck190-reva-x-ebm-01-reva.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/versal-vck190-reva-x-ebm-01-reva.dtsi
@@ -58,7 +58,7 @@
 };
 
 &sdhci1 { /* PMC_MIO26-36/51 */
-	xlnx,mio_bank = <1>;
+	xlnx,mio-bank = <1>;
 	no-1-8-v;
 };
 
diff --git a/arch/arm64/boot/dts/xilinx/versal/versal.dtsi b/arch/arm64/boot/dts/xilinx/versal/versal.dtsi
index 348c6fbbcd62..cad9c37ba3a7 100644
--- a/arch/arm64/boot/dts/xilinx/versal/versal.dtsi
+++ b/arch/arm64/boot/dts/xilinx/versal/versal.dtsi
@@ -105,11 +105,13 @@
 		compatible = "xlnx,versal-fpga";
 	};
 
-	amba_apu: amba_apu {
+	amba: axi {
 		compatible = "simple-bus";
 		#address-cells = <2>;
 		#size-cells = <2>;
 		ranges;
+		interrupt-parent = <&gic>;
+		u-boot,dm-pre-reloc;
 
 		gic: interrupt-controller@f9000000 {
 			compatible = "arm,gic-v3";
@@ -120,7 +122,6 @@
 			reg = <0 0xf9000000 0 0x80000>, /* GICD */
 			      <0 0xf9080000 0 0x80000>; /* GICR */
 			interrupt-controller;
-			interrupt-parent = <&gic>;
 			interrupts = <1 9 4>;
 
 			gic_its: gic-its@f9020000 {
@@ -130,15 +131,6 @@
 				reg = <0 0xf9020000 0 0x20000>;
 			};
 		};
-	};
-
-	amba: amba {
-		compatible = "simple-bus";
-		#address-cells = <2>;
-		#size-cells = <2>;
-		ranges;
-		interrupt-parent = <&gic>;
-		u-boot,dm-pre-reloc;
 
 		apm: performance-monitor@f0920000 {
 			compatible = "xlnx,flexnoc-pm-2.7";
@@ -362,7 +354,6 @@
 			status = "disabled";
 			reg = <0x0 0xf6150000 0x0 0x2000>, <0x0 0xf6070000 0x0 0x20000>;
 			reg-names = "ddrmc_base", "ddrmc_noc_base";
-			interrupt-parent = <&gic>;
 			interrupts = <0 147 4>;
 			xlnx,mc-id = <0>;
 		};
@@ -372,7 +363,6 @@
 			status = "disabled";
 			reg = <0x0 0xf62c0000 0x0 0x2000>, <0x0 0xf6210000 0x0 0x20000>;
 			reg-names = "ddrmc_base", "ddrmc_noc_base";
-			interrupt-parent = <&gic>;
 			interrupts = <0 147 4>;
 			xlnx,mc-id = <1>;
 		};
@@ -382,7 +372,6 @@
 			status = "disabled";
 			reg = <0x0 0xf6430000 0x0 0x2000>, <0x0 0xf6380000 0x0 0x20000>;
 			reg-names = "ddrmc_base", "ddrmc_noc_base";
-			interrupt-parent = <&gic>;
 			interrupts = <0 147 4>;
 			xlnx,mc-id = <2>;
 		};
@@ -392,7 +381,6 @@
 			status = "disabled";
 			reg = <0x0 0xf65a0000 0x0 0x2000>, <0x0 0xf64f0000 0x0 0x20000>;
 			reg-names = "ddrmc_base", "ddrmc_noc_base";
-			interrupt-parent = <&gic>;
 			interrupts = <0 147 4>;
 			xlnx,mc-id = <3>;
 		};
@@ -403,7 +391,7 @@
 			reg = <0 0xf12a0000 0 0x100>;
 			interrupt-names = "alarm", "sec";
 			interrupts = <0 142 4>, <0 143 4>;
-			calibration = <0x8000>;
+			calibration = <0x7FFF>;
 		};
 
 		sdhci0: sdhci@f1040000 {
@@ -598,7 +586,6 @@
 					<0 0 0 3 &pcie_intc_0 3>,
 					<0 0 0 4 &pcie_intc_0 4>;
 			interrupt-map-mask = <0 0 0 7>;
-			interrupt-parent = <&gic>;
 			interrupt-names = "misc";
 			interrupts = <0 72 4>;
 			ranges = <0x02000000 0x00000000 0xe0000000 0x0 0xe0000000 0x00000000 0x10000000>,
-- 
2.31.1

