From e4b74de478ca6143b8c2544b7f2d84e189ce7a20 Mon Sep 17 00:00:00 2001
From: Maruthi Srinivas Bayyavarapu <maruthi.srinivas.bayyavarapu@xilinx.com>
Date: Wed, 5 Sep 2018 19:07:20 +0530
Subject: [PATCH 0114/1852] ASoC: xlnx: Enable SDI audio build

commit a57033bbc763d76dfd56d0a475bba88d67d02737 from
https://github.com/Xilinx/linux-xlnx.git

Enabled SDI audio driver build.

Signed-off-by: Maruthi Srinivas Bayyavarapu <maruthi.srinivas.bayyavarapu@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
State: pending
Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 sound/soc/xilinx/Kconfig  | 8 ++++++++
 sound/soc/xilinx/Makefile | 1 +
 2 files changed, 9 insertions(+)

diff --git a/sound/soc/xilinx/Kconfig b/sound/soc/xilinx/Kconfig
index 6f566f0edd76..705a37fccde2 100644
--- a/sound/soc/xilinx/Kconfig
+++ b/sound/soc/xilinx/Kconfig
@@ -13,6 +13,14 @@ config SND_SOC_XILINX_AUDIO_FORMATTER
 	  support. This provides PCM platform device support for
 	  audio functionality.
 
+config SND_SOC_XILINX_SDI
+	tristate "Audio support for the the Xilinx SDI"
+	depends on DRM_XLNX_SDI
+	depends on VIDEO_XILINX_SDIRXSS
+	help
+	  Select this option to enable Xilinx SDI Audio.This enables
+	  SDI audio playback and capture using xilinx soft IP
+
 config SND_SOC_XILINX_I2S
 	tristate "Audio support for the Xilinx I2S"
 	help
diff --git a/sound/soc/xilinx/Makefile b/sound/soc/xilinx/Makefile
index 1675ad773f78..b476117ba3a4 100644
--- a/sound/soc/xilinx/Makefile
+++ b/sound/soc/xilinx/Makefile
@@ -3,6 +3,7 @@ obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-pcm.o
 obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-codec.o
 obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-card.o
 obj-$(CONFIG_SND_SOC_XILINX_AUDIO_FORMATTER) += xlnx_formatter_pcm.o
+obj-$(CONFIG_SND_SOC_XILINX_SDI) += xlnx_sdi_audio.o
 snd-soc-xlnx-i2s-objs      := xlnx_i2s.o
 obj-$(CONFIG_SND_SOC_XILINX_I2S) += snd-soc-xlnx-i2s.o
 snd-soc-xlnx-formatter-pcm-objs := xlnx_formatter_pcm.o
-- 
2.31.1

