From 9294038578352405984bf43fbab7ef7ae019a31a Mon Sep 17 00:00:00 2001
From: Hyun Kwon <hyun.kwon@xilinx.com>
Date: Thu, 4 Apr 2019 10:03:30 -0700
Subject: [PATCH 0613/1851] uio: xilinx_ai_engine: Unreference correct pdev

commit 5c6ba819036334975e32c3e1fab7c9e50b689da5 from
https://github.com/Xilinx/linux-xlnx.git

The correct device should be unreferenced.

Signed-off-by: Hyun Kwon <hyun.kwon@xilinx.com>
Reviewed-by: Wendy Liang <wendy.liang@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
State: pending
Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 drivers/uio/uio_xilinx_ai_engine.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/uio/uio_xilinx_ai_engine.c b/drivers/uio/uio_xilinx_ai_engine.c
index 69778d83c52f..96d0e67f23a6 100644
--- a/drivers/uio/uio_xilinx_ai_engine.c
+++ b/drivers/uio/uio_xilinx_ai_engine.c
@@ -139,7 +139,7 @@ static int xilinx_ai_engine_probe(struct platform_device *pdev)
 	return 0;
 
 err_out:
-	platform_device_put(pdev);
+	platform_device_put(uio);
 	dev_err(&pdev->dev,
 		"failed to probe Xilinx AI Engine UIO driver");
 	return ret;
-- 
2.31.1

