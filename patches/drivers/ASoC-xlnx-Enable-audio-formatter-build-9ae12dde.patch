From 1d62beb60588275b52a375407fd7f847563ee8ad Mon Sep 17 00:00:00 2001
From: Maruthi Srinivas Bayyavarapu <maruthi.srinivas.bayyavarapu@xilinx.com>
Date: Wed, 5 Sep 2018 19:05:10 +0530
Subject: [PATCH 0112/1851] ASoC: xlnx: Enable audio formatter build

commit 547232e232919ba800c486aa312f42ecd302b10a from
https://github.com/Xilinx/linux-xlnx.git

Enabled audio formatter driver build.

Signed-off-by: Maruthi Srinivas Bayyavarapu <maruthi.srinivas.bayyavarapu@xilinx.com>
Signed-off-by: Michal Simek <michal.simek@xilinx.com>
State: pending
Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 sound/soc/xilinx/Kconfig  | 7 +++++++
 sound/soc/xilinx/Makefile | 1 +
 2 files changed, 8 insertions(+)

diff --git a/sound/soc/xilinx/Kconfig b/sound/soc/xilinx/Kconfig
index 20c8bff89d23..6f566f0edd76 100644
--- a/sound/soc/xilinx/Kconfig
+++ b/sound/soc/xilinx/Kconfig
@@ -6,6 +6,13 @@ config SND_SOC_XILINX_DP
 	help
 	  Audio support the for Xilinx DisplayPort.
 
+config SND_SOC_XILINX_AUDIO_FORMATTER
+	tristate "Audio support for the the Xilinx audio formatter"
+	help
+	  Select this option to enable Xilinx audio formatter
+	  support. This provides PCM platform device support for
+	  audio functionality.
+
 config SND_SOC_XILINX_I2S
 	tristate "Audio support for the Xilinx I2S"
 	help
diff --git a/sound/soc/xilinx/Makefile b/sound/soc/xilinx/Makefile
index 339eb1f3dd9d..1675ad773f78 100644
--- a/sound/soc/xilinx/Makefile
+++ b/sound/soc/xilinx/Makefile
@@ -2,6 +2,7 @@
 obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-pcm.o
 obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-codec.o
 obj-$(CONFIG_SND_SOC_XILINX_DP) += xilinx-dp-card.o
+obj-$(CONFIG_SND_SOC_XILINX_AUDIO_FORMATTER) += xlnx_formatter_pcm.o
 snd-soc-xlnx-i2s-objs      := xlnx_i2s.o
 obj-$(CONFIG_SND_SOC_XILINX_I2S) += snd-soc-xlnx-i2s.o
 snd-soc-xlnx-formatter-pcm-objs := xlnx_formatter_pcm.o
-- 
2.31.1

