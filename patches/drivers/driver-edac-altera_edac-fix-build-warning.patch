From a7d9a159717faa1cbbc7cc51916246a37105e0b0 Mon Sep 17 00:00:00 2001
From: Meng Li <Meng.Li@windriver.com>
Date: Thu, 8 Apr 2021 22:16:08 +0800
Subject: [PATCH] driver: edac: altera_edac: fix build warning

commit ee00cf1ab1ab30013936f78ac6c7dfaa8be2e7fc from linux-yocto

- add parentheses around comparison
- correct the format parameter

Signed-off-by: Meng Li <Meng.Li@windriver.com>
Signed-off-by: Bruce Ashfield <bruce.ashfield@gmail.com>
Signed-off-by: Ovidiu Panait <ovidiu.panait@windriver.com>
---
 drivers/edac/altera_edac.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/edac/altera_edac.c b/drivers/edac/altera_edac.c
index be89b4db9825..1de524542c45 100644
--- a/drivers/edac/altera_edac.c
+++ b/drivers/edac/altera_edac.c
@@ -283,11 +283,11 @@ static bool s10_is_ecc_enable(void)
 	arm_smccc_smc(INTEL_SIP_SMC_REG_READ, S10_ECCCTRL1_OFST, 0, 0, 0,
 		      0, 0, 0, &result);
 
-	if (A10_ECCCTRL1_ECC_EN & result.a1 == A10_ECCCTRL1_ECC_EN)
+	if ((A10_ECCCTRL1_ECC_EN & result.a1) == A10_ECCCTRL1_ECC_EN)
 		return true;
 	else {
 		edac_printk(KERN_ERR, EDAC_MC,
-			    "No ECC/ECC disabled [0x%08X]\n", result.a1);
+			    "No ECC/ECC disabled [0x%08lX]\n", result.a1);
 		return false;
 	}
 }
-- 
2.31.1

