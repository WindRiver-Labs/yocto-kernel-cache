From 20949bbf10a507809a02f1e0eabf8d33a555d7ce Mon Sep 17 00:00:00 2001
From: Shubhrajyoti Datta <shubhrajyoti.datta@xilinx.com>
Date: Wed, 1 Apr 2020 15:00:00 +0530
Subject: [PATCH 1305/1852] dt-bindings: Fix the apm binding warnings

commit c84cf5bd637ae06ad093ade43104566da9883981 from
https://github.com/Xilinx/linux-xlnx.git

Fix the binding warnings.

Signed-off-by: Shubhrajyoti Datta <shubhrajyoti.datta@xilinx.com>
State: pending
Signed-off-by: Yaliang Wang <Yaliang.Wang@windriver.com>
---
 .../devicetree/bindings/perf/xilinx-apm.yaml  | 66 +++++++++++--------
 1 file changed, 39 insertions(+), 27 deletions(-)

diff --git a/Documentation/devicetree/bindings/perf/xilinx-apm.yaml b/Documentation/devicetree/bindings/perf/xilinx-apm.yaml
index a8664c9650a6..30418486b9fe 100644
--- a/Documentation/devicetree/bindings/perf/xilinx-apm.yaml
+++ b/Documentation/devicetree/bindings/perf/xilinx-apm.yaml
@@ -11,7 +11,8 @@ maintainers:
 
 properties:
   compatible:
-      enum:
+    items:
+      - enum:
           - xlnx,axi-perf-monitor
 
   reg:
@@ -24,64 +25,75 @@ properties:
     maxItems: 1
 
   xlnx,enable-profile:
-    description: Enables the profile mode.
+    allOf:
+      - $ref: /schemas/types.yaml#/definitions/uint32
+      - enum: [0, 1]
+    description:
+      Enables the profile mode.
     maxItems: 1
 
   xlnx,enable-trace:
-    description: Enables trace mode.
+    allOf:
+      - $ref: /schemas/types.yaml#/definitions/uint32
+      - enum: [0, 1]
+    description:
+      Enables trace mode.
     maxItems: 1
 
   xlnx,num-monitor-slots:
-    description: Maximum number of slots in APM.
-        items:
-          minimum: 1
-          maximum: 8
+    allOf:
+      - $ref: /schemas/types.yaml#/definitions/uint32
+      - minimum: 1
+      - maximum: 8
+    description:
+      Number of monitor slots.
 
   xlnx,enable-event-count:
-    description: Enable event count.
-    oneOf:
+    allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
       - enum: [0, 1]
+    description:
+      Enable event count.
 
   xlnx,enable-event-log:
-    description: Enable event log.
-    oneOf:
+    allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
       - enum: [0, 1]
+    description:
+      Enable event log.
 
   xlnx,have-sampled-metric-cnt:
-    description: Sampled metric counters enabled in APM.
-    oneOf:
+    allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
-      - enum: [32, 64]
+    description:
+      Sampled metric counters enabled in APM.
 
   xlnx,metric-count-width:
-    description: Metric Counter width.
-    oneOf:
+    allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
       - enum: [32, 64]
+    description:
+      Metric Counter width.
 
   xlnx,num-of-counters:
-    description: Number of counters in APM.
-        items:
-          minimum: 1
-          maximum: 9
+    allOf:
+      - $ref: /schemas/types.yaml#/definitions/uint32
+    description:
+      Number of counters in APM.
 
   xlnx,metrics-sample-count-width:
-    description: Sampled metric counter width.
-    oneOf:
+    allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
       - enum: [32, 64]
+    description:
+      Sampled metric counter width.
 
   xlnx,global-count-width:
-    description: Global Clock counter width.
     allOf:
       - $ref: /schemas/types.yaml#/definitions/uint32
       - enum: [32, 64]
-
-  xlnx,metrics-sample-count-width:
-    description: Global Clock counter width.
-    maxItems: 1
+    description:
+      Global Clock counter width.
 
   xlnx,id-filter-32bit:
     description: APM is in 32-bit mode.
-- 
2.31.1

