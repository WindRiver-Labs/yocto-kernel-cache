From c217e381c5f6bb9e5d46aca25383ec7b8f1d838c Mon Sep 17 00:00:00 2001
From: Richard Gong <richard.gong@intel.com>
Date: Tue, 7 Jul 2020 11:00:10 -0500
Subject: [PATCH 052/120] crypto: set intel_fcs task as uninterruptible

commit 83fea3a30930e20cbce729557ca286bc339f79a7 from
https://github.com/altera-opensource/linux-socfpga.git

Signed-off-by: Richard Gong <richard.gong@intel.com>
Integrated-by: Abhishek Paliwal <paliwal.abhishek@windriver.com>
---
 drivers/crypto/intel_fcs.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/drivers/crypto/intel_fcs.c b/drivers/crypto/intel_fcs.c
index 56574d74ce93..7372c31c0ae0 100644
--- a/drivers/crypto/intel_fcs.c
+++ b/drivers/crypto/intel_fcs.c
@@ -104,16 +104,13 @@ static int fcs_request_service(struct intel_fcs_priv *priv,
 	if (ret)
 		return -EINVAL;
 
-	ret = wait_for_completion_interruptible_timeout(&priv->completion,
+	ret = wait_for_completion_timeout(&priv->completion,
 							timeout);
 	if (!ret) {
 		dev_err(priv->client.dev,
 			"timeout waiting for SMC call\n");
 		ret = -ETIMEDOUT;
-	} else if (ret < 0)
-		dev_err(priv->client.dev,
-			"interrupted while waiting for SMC call\n");
-	else
+	} else
 		ret = 0;
 
 	mutex_unlock(&priv->lock);
-- 
2.31.1

