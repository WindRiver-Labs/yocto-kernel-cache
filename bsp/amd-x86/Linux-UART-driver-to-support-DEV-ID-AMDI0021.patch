From 6254ef7a9975819eea04783a553aa689d6f44da6 Mon Sep 17 00:00:00 2001
From: Sudheesh Mavila <sudheesh.mavila@amd.com>
Date: Mon, 29 Jan 2018 15:32:37 +0530
Subject: [PATCH 1/2] Linux UART driver to support DEV ID AMDI0021

Signed-off-by: Sudheesh Mavila <sudheesh.mavila@amd.com>
[Original patch provided by AMD vendor directly]
Signed-off-by: Liwei Song <liwei.song@windriver.com>
---
 drivers/acpi/acpi_apd.c           | 1 +
 drivers/tty/serial/8250/8250_dw.c | 1 +
 2 files changed, 2 insertions(+)
 mode change 100644 => 100755 drivers/acpi/acpi_apd.c
 mode change 100644 => 100755 drivers/tty/serial/8250/8250_dw.c

diff --git a/drivers/acpi/acpi_apd.c b/drivers/acpi/acpi_apd.c
old mode 100644
new mode 100755
index ff47317d8ef1..d20b08ff0f93
--- a/drivers/acpi/acpi_apd.c
+++ b/drivers/acpi/acpi_apd.c
@@ -227,6 +227,7 @@ static const struct acpi_device_id acpi_apd_device_ids[] = {
 	{ "AMDI0010", APD_ADDR(wt_i2c_desc) },
 	{ "AMD0020", APD_ADDR(cz_uart_desc) },
 	{ "AMDI0020", APD_ADDR(cz_uart_desc) },
+	{ "AMDI0021", APD_ADDR(cz_uart_desc) },
 	{ "AMD0030", },
 	{ "AMD0040", APD_ADDR(st_misc_desc)},
 #endif
diff --git a/drivers/tty/serial/8250/8250_dw.c b/drivers/tty/serial/8250/8250_dw.c
old mode 100644
new mode 100755
index 7af6697b760f..97eb48113a69
--- a/drivers/tty/serial/8250/8250_dw.c
+++ b/drivers/tty/serial/8250/8250_dw.c
@@ -756,6 +756,7 @@ static const struct acpi_device_id dw8250_acpi_match[] = {
 	{ "APMC0D08", 0},
 	{ "AMD0020", 0 },
 	{ "AMDI0020", 0 },
+	{ "AMDI0021", 0 },
 	{ "BRCM2032", 0 },
 	{ "HISI0031", 0 },
 	{ },
-- 
2.17.1

