From 5853a6e826fe3c7a7e944d152673bc75d399b2c4 Mon Sep 17 00:00:00 2001
From: Zhang Rui <rui.zhang@intel.com>
Date: Wed, 10 Jul 2019 21:44:37 +0800
Subject: [PATCH 3/3] powercap/intel_rapl: add support for ICX-D

commit 3231a21d5ca6f6baea95588406775304f35a203e upstream.

Add ICX-D support in intel_rapl driver

Signed-off-by: Zhang Rui <rui.zhang@intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
[Jun Miao: context change for backporting]
Signed-off-by: Jun Miao <jun.miao@windriver.com>
---
 drivers/powercap/intel_rapl.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/powercap/intel_rapl.c b/drivers/powercap/intel_rapl.c
index fc6e349d55df..66f9d4035307 100644
--- a/drivers/powercap/intel_rapl.c
+++ b/drivers/powercap/intel_rapl.c
@@ -1152,6 +1152,7 @@ static const struct x86_cpu_id rapl_ids[] __initconst = {
 	INTEL_CPU_FAM6(ICELAKE_MOBILE,		rapl_defaults_core),
 	INTEL_CPU_FAM6(ICELAKE_DESKTOP, 	rapl_defaults_core),
 	INTEL_CPU_FAM6(ICELAKE_X, 		rapl_defaults_hsw_server),
+	INTEL_CPU_FAM6(ICELAKE_XEON_D, 		rapl_defaults_hsw_server),
 	INTEL_CPU_FAM6(COMETLAKE_L, rapl_defaults_core),
 	INTEL_CPU_FAM6(COMETLAKE, rapl_defaults_core),
 
-- 
2.17.1

