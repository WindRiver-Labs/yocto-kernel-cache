From c56a5bf96b5d19886346ce254be4c837e2665070 Mon Sep 17 00:00:00 2001
From: Camelia Groza <camelia.groza@nxp.com>
Date: Mon, 26 Mar 2018 17:12:17 +0300
Subject: [PATCH 204/741] fsl_qbman: ceetm: export the qman_ceetm_query_cq call

commit e2a5cd51e6d1f75ccf029eee1bb97d30078fe3cd from
http://source.codeaurora.org/external/qoriq/qoriq-components/linux

Signed-off-by: Camelia Groza <camelia.groza@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 include/linux/fsl_qman.h | 12 ++++++++++++
 1 file changed, 12 insertions(+)

diff --git a/include/linux/fsl_qman.h b/include/linux/fsl_qman.h
index 4e4b21d55169..56c05fdb9927 100644
--- a/include/linux/fsl_qman.h
+++ b/include/linux/fsl_qman.h
@@ -3812,6 +3812,18 @@ int qman_ceetm_ccg_get_reject_statistics(struct qm_ceetm_ccg *ccg, u32 flags,
 int qman_ceetm_query_lfqmt(int lfqid,
 			   struct qm_mcr_ceetm_lfqmt_query *lfqmt_query);
 
+/**
+ * qman_ceetm_query_cq - Queries a CEETM CQ
+ * @cqid: the channel ID (first byte) followed by the CQ idx
+ * @dcpid: CEETM portal ID
+ * @cq_query: storage for the queried CQ fields
+ *
+ * Returns zero for success or -EIO if the query command returns error.
+ *
+*/
+int qman_ceetm_query_cq(unsigned int cqid, unsigned int dcpid,
+			struct qm_mcr_ceetm_cq_query *cq_query);
+
 /**
  * qman_ceetm_query_write_statistics - Query (and optionally write) statistics
  * @cid: Target ID (CQID or CCGRID)
-- 
2.17.1

