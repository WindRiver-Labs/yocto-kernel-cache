From 378640003031398da08be16f2b17d37ad0bcd506 Mon Sep 17 00:00:00 2001
From: Camelia Groza <camelia.groza@nxp.com>
Date: Wed, 24 Oct 2018 13:35:16 +0300
Subject: [PATCH 224/741] sdk_dpaa: ceetm: rename qdisc_destroy() to
 qdisc_put()

commit f994703ff436e8bd8413b32bad81bff6679a147f from
http://source.codeaurora.org/external/qoriq/qoriq-components/linux

Signed-off-by: Camelia Groza <camelia.groza@nxp.com>
Signed-off-by: Zhantao Tang <zhantao.tang@windriver.com>
---
 drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_ceetm.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_ceetm.c b/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_ceetm.c
index ce355d31a999..55471a511524 100644
--- a/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_ceetm.c
+++ b/drivers/net/ethernet/freescale/sdk_dpaa/dpaa_eth_ceetm.c
@@ -432,7 +432,7 @@ static void ceetm_cls_destroy(struct Qdisc *sch, struct ceetm_class *cl)
 	switch (cl->type) {
 	case CEETM_ROOT:
 		if (cl->root.child) {
-			qdisc_destroy(cl->root.child);
+			qdisc_put(cl->root.child);
 			cl->root.child = NULL;
 		}
 
@@ -445,7 +445,7 @@ static void ceetm_cls_destroy(struct Qdisc *sch, struct ceetm_class *cl)
 
 	case CEETM_PRIO:
 		if (cl->prio.child) {
-			qdisc_destroy(cl->prio.child);
+			qdisc_put(cl->prio.child);
 			cl->prio.child = NULL;
 		}
 
@@ -567,7 +567,7 @@ static void ceetm_destroy(struct Qdisc *sch)
 		 */
 		for (ntx = 0; ntx < dev->num_tx_queues; ntx++)
 			if (priv->root.qdiscs[ntx])
-				qdisc_destroy(priv->root.qdiscs[ntx]);
+				qdisc_put(priv->root.qdiscs[ntx]);
 
 		kfree(priv->root.qdiscs);
 		break;
@@ -1367,7 +1367,7 @@ static void ceetm_attach(struct Qdisc *sch)
 		qdisc = priv->root.qdiscs[i];
 		old_qdisc = dev_graft_qdisc(qdisc->dev_queue, qdisc);
 		if (old_qdisc)
-			qdisc_destroy(old_qdisc);
+			qdisc_put(old_qdisc);
 	}
 
 	kfree(priv->root.qdiscs);
-- 
2.17.1

